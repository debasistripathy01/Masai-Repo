<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Individual Characters Search DEtails</title>
    <style>
        *{
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
        }

        h3>a{
            text-decoration: none;
            
            text-align: center;
            font-size: 30px;
            cursor: pointer;
        }

        h3{
            margin: auto;
            height: 50px;
            width: 30%;
            display: flex;
            justify-content: center;
            background-color: aqua;
        }
        #appendInfo{
            width: 100%;
            height: 40px;
            height: 50px;
            margin: auto;
            font-size: 22px;
            margin-top: 3%;

        }
        #appendInfo>.box{
            background-color: antiquewhite;
            height: auto;
            width: auto;
            margin-top: 5%;

        }

    </style>
</head>
<body>
    <h3>
        
        <a href="./index.html">HOme</a>
    </h3>
    
    <div id="container">

        <div id="appendInfo">
            <!-- APPend ALL Info HEre -->
        </div>

    </div>

    

</body>
</html>

<script>
    
    let DataArr = JSON.parse(localStorage.getItem("star-war-data"))||[];
    DisplayData(DataArr);

    function DisplayData(data){

        let container = document.getElementById("appendInfo");
        container.innerHTML = null;
        data.forEach((elem, index)=>{

            let box = document.createElement("div");
            box.setAttribute("class", "box");

            let name = document.createElement("div");
            name.innerText = "Full Name : " + `${elem.name}`;

            let mass = document.createElement("p");
            mass.innerText = "Body Mass : " + `${elem.mass}`;

            let skin_color = document.createElement("p");
            skin_color.innerText = "Skin Color :" + `${elem.skin_color}`;

            let button = document.createElement("button");
            button.innerText = "Remove";
            button.setAttribute("class", "remove");
            button.addEventListener("click", ()=>{
                removeItem(elem, index);
            });

            // let total_films = document.createElement("div");
            // elemImg(elem);
            
            // function elemImg(el){
            //     let url;
            //     for(var i=0; i < el.films.length; i++){
            //         url = el.films[i];
            //     }
            //     console.log(url)
            //     el.films.forEach((el)=>{
            //         let card = document.getElementById("div");
                    
            //         let img = document.createElement("img");
            //         img.src = `${url}`;

            //         card.append(img);
            //         total_films.append(card);
            //     });
            // }
            // total_films.innerText = elem.films;



            box.append(name, mass, skin_color, button);
            container.append(box);
        });
    }

    
    
    function removeItem(elem, index){
        DataArr.splice(index, 1);
        // DataArr.push(DataArr);
        localStorage.setItem("star-war-data", JSON.stringify(DataArr));
        window.location.reload();
    }
    // localStorage.setItem("star-war-data", JSON.stringify(DataArr))

    

</script>